<!--
This file is part of the Ristra tangram project.
Please see the license file at the root of this repository, or at:
https://github.com/laristra/tangram/blob/master/LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Font stuff -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'/>
    <script src="//use.fontawesome.com/3dce4d8e65.js"></script>
    <!-- the default version jquery provided by doxygen is too old for bootstrap
	 but it also contains local modifications.  we have extracted those that
	 are needed so that we can use a newer jquery. -->
    <!-- <script type="text/javascript" src="//code.jquery.com/jquery-3.1.1.min.js"></script> -->
    <script
			  src="//code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
      <!-- <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="smartmenu.js"></script>
    <title>tangram: /home/portage/tangram/tangram/utility/get_material_moments.h File Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
      <!-- this version is too old for bootstrap, but it includes modifications
	   from standard jquery
    <script type="text/javascript" src="jquery.js"></script>  -->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/> -->
    <!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  </head>
  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand">tangram </a>
        </div>
      </div>
    </nav>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div class="content" id="content">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 panel " style="padding-bottom: 15px;">
              <div style="margin-bottom: 15px;">
      		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_043c38e9c2239d2104f02eee845ed8d8.html">tangram</a></li><li class="navelem"><a class="el" href="dir_8c062d6981e3de3ea58d7a81e2ec1253.html">utility</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">get_material_moments.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="tangram_8h_source.html">tangram/support/tangram.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="split__r2d_8h_source.html">tangram/intersect/split_r2d.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="split__r3d_8h_source.html">tangram/intersect/split_r3d.h</a>&quot;</code><br />
</div>
<p><a href="get__material__moments_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0c93b6da04bc9fa07409f5af57631ae"><td class="memTemplParams" colspan="2">template&lt;class Mesh_Wrapper &gt; </td></tr>
<tr class="memitem:ac0c93b6da04bc9fa07409f5af57631ae"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="get__material__moments_8h.html#ac0c93b6da04bc9fa07409f5af57631ae">get_material_moments</a> (const Mesh_Wrapper &amp;mesh, const std::vector&lt; <a class="el" href="structTangram_1_1Plane__t.html">Tangram::Plane_t</a>&lt; 3 &gt; &gt; &amp;planar_interfaces, const std::vector&lt; int &gt; &amp;material_IDs, std::vector&lt; int &gt; &amp;cell_num_mats, std::vector&lt; int &gt; &amp;cell_mat_ids, std::vector&lt; double &gt; &amp;cell_mat_volfracs, std::vector&lt; <a class="el" href="classTangram_1_1Point.html">Tangram::Point</a>&lt; 3 &gt; &gt; &amp;cell_mat_centroids, std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="structr3d__poly.html">r3d_poly</a> &gt; &gt; &gt; &amp;reference_mat_polys, bool decompose_cells=true)</td></tr>
<tr class="memdesc:ac0c93b6da04bc9fa07409f5af57631ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a given mesh and a sequence of planes computes volume fractions and centroids. r3d is used to compute intersection moments. For every plane in the sequence, the remaining parts of the domain in the lower half-space are assigned the corresponding material and excluded from further consideration.  <a href="#ac0c93b6da04bc9fa07409f5af57631ae">More...</a><br /></td></tr>
<tr class="separator:ac0c93b6da04bc9fa07409f5af57631ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61a0c14d545ed43df9e1ff8426a1d1b"><td class="memTemplParams" colspan="2">template&lt;class Mesh_Wrapper &gt; </td></tr>
<tr class="memitem:ad61a0c14d545ed43df9e1ff8426a1d1b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="get__material__moments_8h.html#ad61a0c14d545ed43df9e1ff8426a1d1b">get_material_moments</a> (const Mesh_Wrapper &amp;mesh, const std::vector&lt; <a class="el" href="structTangram_1_1Plane__t.html">Tangram::Plane_t</a>&lt; 2 &gt; &gt; &amp;linear_interfaces, const std::vector&lt; int &gt; &amp;material_IDs, std::vector&lt; int &gt; &amp;cell_num_mats, std::vector&lt; int &gt; &amp;cell_mat_ids, std::vector&lt; double &gt; &amp;cell_mat_volfracs, std::vector&lt; <a class="el" href="classTangram_1_1Point.html">Tangram::Point</a>&lt; 2 &gt; &gt; &amp;cell_mat_centroids, std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="structr2d__poly.html">r2d_poly</a> &gt; &gt; &gt; &amp;reference_mat_polys, bool decompose_cells=true)</td></tr>
<tr class="memdesc:ad61a0c14d545ed43df9e1ff8426a1d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">For a given mesh and a sequence of lines computes volume fractions and centroids. r2d is used to compute intersection moments. For every line in the sequence, the remaining parts of the domain in the lower half-plane are assigned the corresponding material and excluded from further consideration.  <a href="#ad61a0c14d545ed43df9e1ff8426a1d1b">More...</a><br /></td></tr>
<tr class="separator:ad61a0c14d545ed43df9e1ff8426a1d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac0c93b6da04bc9fa07409f5af57631ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c93b6da04bc9fa07409f5af57631ae">&#9670;&nbsp;</a></span>get_material_moments() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Mesh_Wrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void get_material_moments </td>
          <td>(</td>
          <td class="paramtype">const Mesh_Wrapper &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structTangram_1_1Plane__t.html">Tangram::Plane_t</a>&lt; 3 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>planar_interfaces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>material_IDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_num_mats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_volfracs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTangram_1_1Point.html">Tangram::Point</a>&lt; 3 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_centroids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="structr3d__poly.html">r3d_poly</a> &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>reference_mat_polys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>decompose_cells</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For a given mesh and a sequence of planes computes volume fractions and centroids. r3d is used to compute intersection moments. For every plane in the sequence, the remaining parts of the domain in the lower half-space are assigned the corresponding material and excluded from further consideration. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Mesh_Wrapper</td><td>A lightweight wrapper to a specific input mesh implementation that provides required functionality.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh</td><td>Mesh wrapper. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">planar_interfaces</td><td>Sequence of planar material interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">material_IDs</td><td>IDs of materials corresponding to the lower half-space of each plane; the last ID is for the material in the upper half-space of the last plane in the sequence </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_num_mats</td><td>Number of material in each mesh cell, vector of length cell_num </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_ids</td><td>Indices of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_volfracs</td><td>Volume fractions of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_centroids</td><td>Centroids of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reference_mat_polys</td><td>For every cell and every material inside that cell, the collection of single-material polyhedra containing that material </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decompose_cells</td><td>If mesh has non-convex cells, this flag should be set to true in order to decompose cells into tetrahedrons </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad61a0c14d545ed43df9e1ff8426a1d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61a0c14d545ed43df9e1ff8426a1d1b">&#9670;&nbsp;</a></span>get_material_moments() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Mesh_Wrapper &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void get_material_moments </td>
          <td>(</td>
          <td class="paramtype">const Mesh_Wrapper &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structTangram_1_1Plane__t.html">Tangram::Plane_t</a>&lt; 2 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>linear_interfaces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>material_IDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_num_mats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_volfracs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTangram_1_1Point.html">Tangram::Point</a>&lt; 2 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>cell_mat_centroids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="structr2d__poly.html">r2d_poly</a> &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>reference_mat_polys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>decompose_cells</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For a given mesh and a sequence of lines computes volume fractions and centroids. r2d is used to compute intersection moments. For every line in the sequence, the remaining parts of the domain in the lower half-plane are assigned the corresponding material and excluded from further consideration. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Mesh_Wrapper</td><td>A lightweight wrapper to a specific input mesh implementation that provides required functionality.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh</td><td>Mesh wrapper. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linear_interfaces</td><td>Sequence of linear material interfaces </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">material_IDs</td><td>IDs of materials corresponding to the lower half-plane of each line; the last ID is for the material in the upper half-plane of the last line in the sequence </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_num_mats</td><td>Number of material in each mesh cell, vector of length cell_num </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_ids</td><td>Indices of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_volfracs</td><td>Volume fractions of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cell_mat_centroids</td><td>Centroids of materials in each mesh cell, a flat vector, requires computations of offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reference_mat_polys</td><td>For every cell and every material inside that cell, the collection of single-material polygons containing that material </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decompose_cells</td><td>If mesh has non-convex cells, this flag should be set to true in order to decompose cells into triangles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!--
This file is part of the Ristra tangram project.
Please see the license file at the root of this repository, or at:
https://github.com/laristra/tangram/blob/master/LICENSE
-->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<!--<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address> -->
<footer id="footer" class="footer">
  <div class="container">
    <div class="row test-muted">
      <div class="footer-row col-md-6">Copyright &copy; 2019
	<a href="http://lanl.gov"> Triad National Security, LLC</a>
	All Rights Reserved.
      </div>
      <div class="footer-row col-md-2">
	<a href="https://github.com/laristra/tangram/blob/master/LICENSE">
	  BSD LICENSE
	</a>
      </div>
      <div class="footer-row col-md-2">
	LA-CC-17-133
      </div>
      <div class="footer-row col-md-1">
	<a href="mailto:portage@lanl.gov">
	  <i class="fa fa-envelope-o fa-2x"></i>
	</a>
      </div>
      <div class="footer-row col-md-1">
	<a href="https://github.com/laristra/tangram">
	  <i class="fa fa-github fa-2x"></i>
	</a>
      </div>
    </div>
  </div>
</footer>
<script type="text/javascript" src="doxy-boot.js"></script>
</body>
</html>
